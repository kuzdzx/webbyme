<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css" />
  <!-- Bootstrap JS -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <title>LOONAVERSE</title>
</h>
<body>

    <header>
        <div class="logo">
            <img src="img/logo5-removebg-preview.png" alt="Logo" />
        </div>
        <div class="mobile-menu" id="mobile-menu-icon">
            <i class="fas fa-bars"></i>
        </div>
        <nav>
            <ul id="nav-links">
                <li><a href="#overview">Home</a></li>
                <li><a href="#characters">Character</a></li>
                <li><a href="#trivia">Trivia</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>


    
    <!-- Intro Section with Background Video -->
    <div class="intro" id="intro">
        <div class="video-container">
            <video class="bg-video" autoplay muted loop>
                <source src="img/lv_0_20250521211432.mp4" type="video/mp4" />
            </video>
            <div class="title-container">
                <h1 class="title">LOONAVERSE</h1>
            </div>
        </div>
    </div>

    <!-- Overview Section -->
    <div class="overview-content" id="overview">
        <h2>To all LOONAs around the world</h2>
        
        <div class="top-section">
            <div class="text-section">
                <h2>Explore the Mystical World</h2>
                <p>The LOOΠΔVERSE is the fictional universe where the members of LOONA live. It is depicted through their music videos and teasers. Its existence was officially announced on April 26, 2017, but was given its name on May 22 of the same year.</p>
                <p>Since the lore of the LOONAVERSE can be interpreted in many different ways, many Orbits have begun to theorize what the music videos entail, and how each member's story intertwines with each other. This part of the article covers the biggest and most popular theories on the LOONA music videos and the timeline of events in the LOONAVERSE.</p>
            </div>
            <div class="gif-container">
                <img src="img/Mobius_Strip.gif" alt="Mobius Strip Animation">
            </div>
        </div>

        <div class="video-section">
            <h2>Explaination</h2>
            <button class="scroll-btn left" aria-label="Scroll left">❮</button>
            <div class="video-carousel-container">
                <div class="video-carousel">
                    <iframe src="https://www.youtube.com/embed/XceN0tD_wvM" allowfullscreen></iframe>
                    <iframe src="https://www.youtube.com/embed/rzrwppGPuL8" allowfullscreen></iframe>
                    <iframe src="https://www.youtube.com/embed/UnXzaPa6Jeo" allowfullscreen></iframe>
                    <iframe src="https://www.youtube.com/embed/1XMxb8FeI2o" allowfullscreen></iframe>
                    <iframe src="https://www.youtube.com/embed/1_LJvpgQbU8" allowfullscreen></iframe>
                    <iframe src="https://www.youtube.com/embed/9JPv41jAH5Y" allowfullscreen></iframe>
                </div>
            </div>
            <button class="scroll-btn right" aria-label="Scroll right">❯</button>
        </div>
    </div>

    <!-- LORE Section -->
    <div class="subunits">
        <div class="subunits-title">
            <h2>Subunuits and Lores</h2>
        </div>
        <section>
            <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-label="Slide 5"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="5" aria-label="Slide 6"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="img/LOONA_Hi_High_BTS_20.png" class="d-block w-100" alt="Subunit 1" />
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Loona 1/3</h5>
                            <p>The first unit, forming the foundational structure for the rest of the LOONAVERSE.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/GF-LOONA-MVT-12.jpg" class="d-block w-100" alt="Subunit 2" />
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Loona ODD EYE CIRCLE</h5>
                            <p>The second subunit exploring dimensions and alternate selves.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/images.jpeg" class="d-block w-100" alt="Subunit 3" />
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Loona YYXY</h5>
                            <p>The most ethereal unit representing rebellion and youth.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/earth.png" class="d-block w-100" alt="Earth" />
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Earth</h5>
                            <p>Earth is the first dimension introduced in the LOONAVERSE.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/middleearth.jpg" class="d-block w-100" alt="Middle Earth" />
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Middle Earth</h5>
                            <p>The center of the LOONAVERSE, between good and evil.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="img/eden.jpg" class="d-block w-100" alt="Eden" />
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Eden</h5>
                            <p>A mirrored version of Earth with a sinister twist.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>
    </div>

    <!-- Characters Section -->
    <!-- Characters Section -->
<div class="characters" id="characters">
  <h2>Characters</h2>
  <div class="search-bar-container">
    <div class="search-container">
        <input id="searchInput" type="search" placeholder="Search for a member..." />
        <button type="button" onclick="handleSearch()">Search</button>
    </div>
</div>


    <!-- Main Content -->
    <div class="content-container">
       
  <div class="parent">
    <div class="member" data-name="HeeJin"><img src="Heejin.jpeg" alt="HeeJin"><h2>HeeJin</h2></div>
    <div class="member" data-name="HyunJin"><img src="img/Hyunjin.jpeg" alt="HyunJin"><h2>HyunJin</h2></div>
    <div class="member" data-name="HaSeul"><img src="img/Haseul.jpeg" alt="HaSeul"><h2>HaSeul</h2></div>
    <div class="member" data-name="YeoJin"><img src="img/Yeojin.webp" alt="YeoJin"><h2>YeoJin</h2></div>
    <div class="member" data-name="ViVi"><img src="img/Vivi.webp" alt="ViVi"><h2>ViVi</h2></div>
    <div class="member" data-name="Kim Lip"><img src="img/Kimlip.jpeg" alt="Kim Lip"><h2>Kim Lip</h2></div>
    <div class="member" data-name="JinSoul"><img src="img/Jinsoul.jpeg" alt="JinSoul"><h2>JinSoul</h2></div>
    <div class="member" data-name="Choerry"><img src="img/Choerry.jpeg" alt="Choerry"><h2>Choerry</h2></div>
    <div class="member" data-name="Chuu"><img src="img/Chuu.jpeg" alt="Chuu"><h2>Chuu</h2></div>
    <div class="member" data-name="Yves"><img src="img/Yves.jpeg" alt="Yves"><h2>Yves</h2></div>
    <div class="member" data-name="Go Won"><img src="img/Gowon.jpg" alt="Go Won"><h2>Go Won</h2></div>
    <div class="member" data-name="Olivia Hye"><img src="img/Olivia.jpeg" alt="Olivia Hye"><h2>Olivia</h2></div>
  </div>
    </div>

    <!-- Profile Card -->
    <div id="profile" class="profile-card">
        <h2 id="profile-name"></h2>
        <div>
            <p><strong>Color:</strong> <span id="profile-color"></span></p>
            <p><strong>Location:</strong> <span id="profile-location"></span></p>
            <p><strong>Superpower:</strong> <span id="profile-superpower"></span></p>
            <p><strong>Emotion:</strong> <span id="profile-emotion"></span></p>
            <p><strong>Flower:</strong> <span id="profile-flower"></span></p>
        </div>
        <p><strong>History:</strong> <span id="profile-history"></span></p>
        <p><strong>Abilities:</strong> <span id="profile-abilities"></span></p>
        <button class="back-button" onclick="returnToGrid()">Back to Members</button>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

        <!-- Trivia -->
        <div class="trivia" id="trivia">
            <div class="forqandc">
                <div class="div1">
                    <h2>Trivia</h2>
                </div>
                <div class="div2">
                    <div id="quiz-container"></div>
                    <button id="submit-btn" class="quiz-button">Check Answers</button> <!-- Renamed Button -->
                    <div id="result"></div>
                </div>
  <div class="div3">
  <h2>Leave a Comment</h2>
  <div class="comment-section">
      <h1>Comment Section</h1>
      <form id="commentForm">
          <div class="form-group">
              <input type="text" id="username" placeholder=" " required />
              <label for="username">Your Name</label>
          </div>
          <div class="form-group">
              <textarea id="comment" placeholder=" " required></textarea>
              <label for="comment">Leave a comment...</label>
          </div>
          <div class="char-count" id="charCount">Characters remaining: 250</div>
          <button type="submit">
              <span>Post Comment</span>
              <i class="fa-solid fa-paper-plane"></i>
          </button>
      </form>
      <div id="comments"></div>
  </div>
</div>


        </div>

  <!-- Contact Section -->
<section id="contact" style=" padding: 3rem 1rem; color: white; display: flex; justify-content: center;">
    <div style="background:#1e1e1e; padding: 2rem; border-radius: 1rem; max-width: 1000px; width: 100%; box-shadow: 0 0 15px rgba(0,0,0,0.5);">
      <h2 style="text-align:center; margin-bottom: 1.5rem;">Contact Us</h2>
      
      <form style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center;">
        <input type="text" placeholder="First Name" style="flex: 1 1 150px; min-width: 150px; padding: 0.7rem; border: none; border-radius: 0.5rem; background: #f4f4f4; color: #111;">
        <input type="text" placeholder="Surname" style="flex: 1 1 150px; min-width: 150px; padding: 0.7rem; border: none; border-radius: 0.5rem; background: #f4f4f4; color: #111;">
        <input type="email" placeholder="Email" style="flex: 2 1 200px; min-width: 200px; padding: 0.7rem; border: none; border-radius: 0.5rem; background: #f4f4f4; color: #111;">
        
        <button type="submit" style="padding: 0.7rem 1.5rem; background: #c0392b; color: white; border: none; border-radius: 0.5rem; cursor: pointer; transition: 0.3s;">
          Sign Up
        </button>
      </form>
  
      <div style="margin-top: 1.5rem; text-align: center;">
        <a href="#" style="margin: 0 0.5rem; color: white;"><i class="fab fa-facebook-f"></i></a>
        <a href="#" style="margin: 0 0.5rem; color: white;"><i class="fab fa-instagram"></i></a>
        <a href="#" style="margin: 0 0.5rem; color: white;"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </section>
          

    </div>

  <script>
document.getElementById('mobile-menu-icon').addEventListener('click', function() {
  const navLinks = document.getElementById('nav-links');
  navLinks.classList.toggle('active');
});


     
    //Carousel Navigation
  document.querySelectorAll('.scroll-btn').forEach(button => {
    button.addEventListener('click', () => {
      const direction = button.classList.contains('left') ? -1 : 1;
      const carousel = document.querySelector('.video-carousel');
      const scrollAmount = carousel.clientWidth * 0.8;
      carousel.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
    });
  });

  // Drag to Scroll Functionality
  const carousel = document.querySelector('.video-carousel');
  let isDragging = false, startX, scrollLeft;

  const startDrag = (e) => {
    isDragging = true;
    startX = e.pageX || e.touches[0].pageX;
    scrollLeft = carousel.scrollLeft;
    carousel.style.cursor = 'grabbing';
  };

  const duringDrag = (e) => {
    if (!isDragging) return;
    e.preventDefault();
    const x = e.pageX || e.touches[0].pageX;
    const walk = (x - startX) * 2;
    carousel.scrollLeft = scrollLeft - walk;
  };

  const endDrag = () => {
    isDragging = false;
    carousel.style.cursor = 'grab';
  };

  // Mouse Events
  carousel.addEventListener('mousedown', startDrag);
  carousel.addEventListener('mousemove', duringDrag);
  carousel.addEventListener('mouseup', endDrag);
  carousel.addEventListener('mouseleave', endDrag);

  // Touch Events
  carousel.addEventListener('touchstart', startDrag);
  carousel.addEventListener('touchmove', duringDrag);
  carousel.addEventListener('touchend', endDrag);
  
  
// Function to load member data from the JSON file
async function loadMembers() {
  try {
    const url = new URL('./data/characters.json', window.location.href);
    console.log('Fetching from:', url.href);
    
    const response = await fetch(url);
    
    // Verify response
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    
    // Log text response first to check formatting
    const rawText = await response.text();
    console.log('Raw response:', rawText.substring(0, 100)); // Shows first 100 chars
    
    return JSON.parse(rawText);
    
  } catch (error) {
    console.error('LOAD ERROR:', error);
    alert(`Failed to load member data: ${error.message}\nSee console for details`);
    return [];
  }
}

// Populate the profile card with member data, excluding the image
function populateProfile(memberData) {
  // No image to set, as it's no longer in the profile card
  document.getElementById("profile-name").textContent = memberData.name;
  document.getElementById("profile-color").textContent = memberData.color;
  document.getElementById("profile-location").textContent = memberData.location;
  document.getElementById("profile-superpower").textContent = memberData.superpower;
  document.getElementById("profile-emotion").textContent = memberData.emotion.join(", ");
  document.getElementById("profile-flower").textContent = memberData.flower.name;
  document.getElementById("profile-history").textContent = memberData.history;
  document.getElementById("profile-abilities").textContent = memberData.abilities.join(", ");
}

// Show the profile card when a member is clicked
async function showProfile(memberElement) {
  console.log("Showing profile for:", memberElement.dataset.name); // Debug
  
  const members = await loadMembers();
  const memberData = members.find(m => m.name === memberElement.dataset.name);
  
  if (!memberData) {
    console.error("Member data not found!");
    return;
  }

  populateProfile(memberData);
  
  
  async function handleSearch() {
    const searchTerm = document.getElementById("searchInput").value.trim().toLowerCase();
    if (!searchTerm) return alert("Enter a name to search");

    try {
      const members = await loadMembers();
      console.log("Members loaded:", members);

      const memberData = members.find(m => m.name.toLowerCase().includes(searchTerm));

      console.log("Search term:", searchTerm);
      console.log("Matched member:", memberData);

      if (memberData) {
        populateProfile(memberData);
      } else {
        alert("Member not found.");
      }
    } catch (error) {
      console.error("Search error:", error);
      alert("Error during search.");
    }
  }
  // Show overlay and profile
  document.getElementById("overlay").classList.add("active");
  document.getElementById("profile").classList.add("active");
}

// Hide the profile card and overlay
function returnToGrid() {
  document.getElementById("profile").classList.remove("active");
  document.getElementById("overlay").classList.remove("active");
}

async function handleSearch() {
    const searchTerm = document.getElementById("searchInput").value.trim();
    if (!searchTerm) return;

    try {
        const members = await loadMembers();
        console.log("Members loaded:", members); // Debugging log
        
        const memberData = members.find(m => 
            m.name.toLowerCase().includes(searchTerm.toLowerCase())
        );

        console.log("Search term:", searchTerm); // Debugging log
        console.log("Matched member:", memberData); // Debugging log

        if (memberData) {
            populateProfile(memberData);
            document.getElementById("overlay").classList.add("active");
            document.getElementById("profile").classList.add("active");
        } else {
            alert("Member not found. Please try another name.");
        }
    } catch (error) {
        console.error("Search error:", error);
        alert("Something went wrong with the search. Check the console for details.");
    }
}

// Attach event listeners to each member div after they are loaded
document.querySelectorAll('.member').forEach(member => {
  member.addEventListener('click', () => showProfile(member));
});


   document.getElementById("commentForm").addEventListener("submit", function(e) {
    e.preventDefault(); // Prevent page refresh
        
    const username = document.getElementById("username").value.trim();
    const commentText = document.getElementById("comment").value.trim();

    if (username && commentText) {  // If both fields are filled
        const now = new Date();
        const formattedTime = now.toLocaleString(); // e.g., "5/15/2024, 3:45:20 PM"

        const commentDiv = document.createElement("div");
        commentDiv.className = "comment";
        commentDiv.innerHTML = `
            <strong>${username}</strong> 
            <span class="time">${formattedTime}</span>
            <p>${commentText}</p>
        `;

        document.getElementById("comments").prepend(commentDiv); // Newest comment appears first
        document.getElementById("commentForm").reset(); // Clear form
        document.getElementById("charCount").textContent = "Characters remaining: 250"; // Reset counter
    }
});

// Character counter logic
document.getElementById("comment").addEventListener("input", function() {
    const maxChars = 250;
    const remaining = maxChars - this.value.length;
    document.getElementById("charCount").textContent = `Characters remaining: ${remaining}`;
});

    window.addEventListener('scroll', function() {
      const video = document.querySelector('.video-container');
      if (window.scrollY > window.innerHeight) {
        video.style.opacity = '0';
      } else {
        video.style.opacity = '1';
      }
    });
    
    
 const allQuestions = [
    {
        "question": "Where is Heejin's location?",
        "options": ["Eden", "Middle Earth", "Earth", "South Korea"],
        "answer": "Earth"
    },
    {
        "question": "Whose animal is a cat?",
        "options": ["Jinsoul", "Heejin", "Hyunjin", "Vivi"],
        "answer": "Hyunjin"
    },
    {
        "question": "Who killed Vivi?",
        "options": ["Elephant", "Blue Whale", "Giraffe", "Polar Bear"],
        "answer": "Blue Whale"
    },
    {
        "question": "Who created the LOONAverse?",
        "options": ["Kim Lip", "Yeojin", "Heejin", "Haseul"],
        "answer": "Heejin"
    },
    {
        "question": "Where was yyxy's location?",
        "options": ["Manila", "Eden", "Edue", "None of the above"],
        "answer": "Eden"
    },
    {
        "question": "What color is associated with HeeJin?",
        "options": ["Yellow", "Bright Pink", "Green", "Purple"],
        "answer": "Bright Pink"
    },
    {
        "question": "Which member has the superpower of Light Manipulation?",
        "options": ["HaSeul", "HyunJin", "Kim Lip", "YeoJin"],
        "answer": "HyunJin"
    },
    {
        "question": "What is the flower associated with YeoJin?",
        "options": ["Sunflower", "Morning Glory", "Wisteria", "Lily"],
        "answer": "Wisteria"
    },
    {
        "question": "Who is known as 'The Princess' of the LOONAVERSE?",
        "options": ["Go Won", "Olivia Hye", "Chuu", "JinSoul"],
        "answer": "Go Won"
    },
    {
        "question": "Which member’s abilities include gravity manipulation?",
        "options": ["Choerry", "Kim Lip", "JinSoul", "ViVi"],
        "answer": "JinSoul"
    },
    {
        "question": "What emotion is associated with Kim Lip?",
        "options": ["Curiosity", "Passion", "Calm", "Loneliness"],
        "answer": "Passion"
    },
    {
        "question": "What color is HaSeul?",
        "options": ["Orange", "Green", "Dark Blue", "Silver"],
        "answer": "Green"
    },
    {
        "question": "Which superpower does Chuu possess?",
        "options": ["Time Manipulation", "Illusion Creation", "Love Projection", "Dream Manipulation"],
        "answer": "Love Projection"
    },
    {
        "question": "What is the alternate name of HeeJin’s flower?",
        "options": ["Apple Blossom", "Cineraria", "False Shamrock", "Bluebell"],
        "answer": "False Shamrock"
    },
    {
        "question": "What does Olivia Hye symbolize?",
        "options": ["Joy", "Transformation", "Hope", "Rebellion"],
        "answer": "Transformation"
    }
];

        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Function to load and display random questions
        function loadQuiz() {
            const shuffledQuestions = shuffleArray([...allQuestions]).slice(0, 5);
            const quizContainer = document.getElementById('quiz-container');
            quizContainer.innerHTML = ''; // Clear previous content

            shuffledQuestions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <h3>${index + 1}. ${question.question}</h3>
                    ${question.options.map(option => `
                        <label>
                            <input type="radio" name="question${index}" value="${option}">
                            ${option}
                        </label>
                    `).join('')}
                `;
                quizContainer.appendChild(questionDiv);
            });

            return shuffledQuestions; // Return for checking later
        }

        // Function to check answers
        function checkAnswers(questions) {
            let score = 0;
            const results = [];

            questions.forEach((question, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const isCorrect = selectedOption && selectedOption.value === question.answer;
                
                if (isCorrect) {
                    score++;
                }
                
                results.push({
                    question: question.question,
                    selected: selectedOption ? selectedOption.value : "Not answered",
                    correct: question.answer,
                    isCorrect: isCorrect
                });
            });

            return { score, results };
        }

        // Function to show results
        function showResults(score, total, results) {
            const resultElement = document.getElementById('result');
            resultElement.innerHTML = `
                <h2>You scored ${score} out of ${total}!</h2>
                ${results.map(result => `
                    <div class="${result.isCorrect ? 'correct' : 'incorrect'}">
                        <p><strong>Question:</strong> ${result.question}</p>
                        <p><strong>Your answer:</strong> ${result.selected}</p>
                        <p><strong>Correct answer:</strong> ${result.correct}</p>
                    </div>
                `).join('')}
            `;
        }

        // Main function to run the quiz
        function runQuiz() {
            const selectedQuestions = loadQuiz();
            
            document.getElementById('submit-btn').addEventListener('click', () => {
                const { score, results } = checkAnswers(selectedQuestions);
                showResults(score, selectedQuestions.length, results);
            });
        }

        // Run the quiz when the page loads
        window.onload = runQuiz;
  </script>
</body>
</html>